Определение местоположения по IP-адресу | Документация RuStore


































Перейти к основному содержимому
Документация пользователей
Документация разработчиков
RuStore SDK
RuStore API
Сценарии использования
Русский
Русский
English
Список доступных SDK
Платежи in-app и подписки
Push-уведомления
Универсальные push-уведомления
Подключение отзывов и оценок
Обновление приложения
Карты и геосервисы
Введение
Сервисы поиска и геокодирования
Сервисы отображения карт
Сервисы маршрутизации
Maps Mobile SDK
Дополнительные сервисы
Список дополнительных сервисов
Определение высоты
Определение местоположения по IP-адресу
Определение часового пояса
Определение почтового индекса
Install Referrer
RuStore Deeplinks
История изменений SDK
Task API
Совместимость с остальными SDK
Карты и геосервисы
Дополнительные сервисы
Определение местоположения по IP-адресу
Содержание этой страницы
Определение местоположения по IP-адресу


/ip2geo
— точка вызова сервиса определения местоположения по IP-адресу.


Запрос
​


Обязательные параметры запроса
​


Имя поля
Формат
Описание
Пример
api_key
hex-string
Доступ к сервисам
.
fa749bace6d8a3b1....


Дополнительные параметры запроса
​


Имя поля
Формат
Описание
Пример
q
string
Тело поискового запроса, содержащее IP-адрес протокола IPv4 в десятичном представлении.
По умолчанию, если в запросе не указан искомый IP-адрес, будет автоматически определён и использован IP-адрес клиента с которого осуществляется запрос.
192.168.1.1
lang
2-символьный код языка
Язык ответа на одном из доступных языков.
По умолчанию на языке региона, в котором найден объект.
lang=en


Ответ
​


Имя поля
Формат
Описание
Пример
geoid
object
Внутренний гео-ID.
"geo_id"
:
 
"546"
address
string
Найденный адрес объекта.
"address"
:
 
"Россия, Москва"
bbox
list
Границы местонахождения найденного объекта для позиционирования на карте.
"bbox": [
  ``37.326228,
  ``55.491308,
  ``37.967428,
  ``55.957772
]
isocode
2char
Двухбуквенный код страны согласно ISO 3166-1 alpha-2.
"isocode"
:
 
"RU"
type
string
Тип объекта
"type"
:
 
"locality"
ref
hex
ID найденного объекта — можно использовать для получения дополнительной информации в сервисе 
Геокодер
.
предупреждение
ID объекта не является стабильным и может со временем изменяться.
"ref"
:
 
"1000000C4D63818"
pin
list
Координаты найденного объекта (долгота и широта).
"pin"
:
 
[
         
37.538851
,
         
55.796731
]


Пример
​


Запрос
​


https
:
/
/
geo
.
rustore
.
ru
/
api
/
ip2geo
?
api_key
=
<
YOUR_API_KEY
>
&
q
=
46.138
.195
.192


Ответ
​


{
  
"request"
:
 
"/ip2geo?q=46.138.195.192&api_key"
,
  
  
"results"
:
 
[
    
{
      
"address"
:
 
"Россия, Москва"
,
      
"bbox"
:
 
[
        
37.326228
,
        
55.491308
,
        
37.967428
,
        
55.957772
      
]
,
      
"geo_id"
:
 
5506
,
      
"isocode"
:
 
"RU"
,
      
"pin"
:
 
[
        
37.617494
,
        
55.750446
      
]
,
      
"ref"
:
 
"030000000026FCFD"
,
      
"type"
:
 
"city"
    
}
  
]
}
Предыдущая страница
Определение высоты
Следующая страница
Определение часового пояса
Запрос
Обязательные параметры запроса
Дополнительные параметры запроса
Ответ
Пример
Запрос
Ответ


© VK, 2024




Пользовательское соглашение


Конфиденциальность